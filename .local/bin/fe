#!/usr/bin/env sh

# Author: David Oniani <onianidavid@gmail.com>
# License: MIT
# Description: Open the selected file in the default editor

cmd="bat --color=always --theme=base16-256 {}"

[ -z "$1" ] && fzf --preview "$cmd" --prompt "File: " | xargs -r -I {} "$EDITOR" {} && exit 0

fd . --color never --type file --unrestricted "$1" |
    fzf --preview "$cmd" --prompt "File: " |
    xargs -r "$EDITOR" && exit 0
